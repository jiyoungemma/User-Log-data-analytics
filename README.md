## E-commerce Analysis & Recommend System

#### 데이터셋 : https://drive.google.com/file/d/173G2qZnzBMvCVd5OlXvk7dyTtjpytP0K/view?usp=sharing

## 프로젝트 목차

- [개요](#개요)
- [전치리 과정](#전처리-과정)
- [문제 정의](#문제-정의)
- [문제 원인 분석](#문제-원인-분석)
- [Action plan](#Action-plan)
- [추천시스템 구현](#추천시스템-구현)
- [회고](#회고)

## 개요
### 1. 프로젝트 목적

- 이커머스 데이터 분석을 통해 분석 대상의 문제점을 발견함
- 정의된 문제를 해결하는 Action plan 제시하고, 매출 증대에 기여할 수 있는 추천시스템을 구현함

### 2. 팀 구성

- 김지영 : 쇼핑몰 특성분석, RFM 분석, 유저 코호트 분석, Action plan 도출, CB 기반 추천모델 구현
- 박경국 : 전환율 분석, 상품 가격편차 분석, 상품 특성별 그룹화, Action plan 도출, CF 기반 추천모델 구현

### 3. 데이터 특성
- 전자제품, 가전제품, 컴퓨터를 주 제품군으로 하는 이커머스 쇼핑몰
- 10월 매출 중 전자제품 비중이 약 78%이며 구매량 상위 10개 모두 전자제품과 가전제품 관련 브랜드   

## 전처리 과정
- 가격이 0인 경우 제거함
- 카테고리 코드와 브랜드 모두 결측치인 경우 얻을 수 있는 정보값이 없다고 판단하여 제거함
- 유저 세션이 결측치인 경우 고유 세션을 파악할 수 없으므로 제거함

## 문제 정의
- (전환율) 제품군별, 일자별, 요일별 전환율을 분석하여 전환율이 낮은 구간을 발견하였으며, 해당 구간의 전환율 상승 방법을 모색해야 함 
- (RFM) 구매액과 방문횟수로 고객을 분류하여 이전과 비교하여 구매액과 방문횟수가 감소한 고객층(변심 고객) 발견하였으며, 변심 고객이 돌아올 수 있는 방법을 모색해야 함

## 문제 원인 분석

### 1. 전환율 분석
   - 가격 편차 - 전환율 간의 관계에 따라 제품을 4가지 그룹으로 나눔
   - 가격 편차가 낮고 구매 전환율도 낮은 상품을 발견함. 해당 상품은 대체재가 존재하는 상품(시계, ebook, 전화기 등)으로 상품에 대한 효용성 때문에 구매로 이어지지 않는다고 판단함
   - 해당 상품을 전환율을 낮추는 문제 상품으로 정의하고, 문제를 해결할 Action plan을 도출함

### 2. RFM 분석
   - 고객이 떠나는 이유를 분석하기 위해 조회 제품 가격과 구매 제품 가격을 비교함
   - 변심 고객만이 평균적으로 조회한 제품보다 더 저렴한 제품을 구매함
   - 변심 고객층은 가격에 민감하며, 더 저렴한 제품을 찾아 다른 쇼핑몰 이동할 가능성이 높을 것으로 이해하고 해당 문제를 해결할 Action plan을 도출함

## Action plan
   - 문제 상품을 조회한 경우 사용 후기를 소개하여 제품에 대한 의구심을 해소시킬 것을 제안함
   - 전환율이 낮은 금요일에 집중적으로 프로모션을 진행하여 변심 고객을 유치할 것을 제안함

## 추천시스템 구현

전체 고객을 대상으로 추천시스템을 구현하면 Memory-out 문제가 발생하기 때문에 구매횟수를 기준으로 추천 시스템을 나누어 구현

### 1. 구매 횟수가 1회 이하인 고객 대상
- 1회 이하로 구매한 고객으로 데이터를 한정했을 때 유저 간 유사도를 판정할 데이터가 부족하게 됨
- 이를 해결하기 위해 상품 간 유사성을 기반으로 작동하는 Content-based filtering 사용
- 벡터화를 위한 tf-idf와 코사인 유사도를 이용하여 상품 간 유사도 판별

### 2. 구매 횟수가 2회 이상인 고객 대상
- 상품을 구매한 고객보다 구매하지 않은 고객이 훨씬 많음
- 또한 매트릭스의 feature가 약 4,000개로 차원의 저주에 빠질 위험이 높음
- truncated SVD을 통해 데이터의 주된 특징 추출하여 희소 문제와 차원의 저주에 대응함 

### 3. 결과
- 추천 결과와 원본 데이터와의 오차를 판단하기 위해 RMSE를 평가지표로 사용함
- 추천 시스템의 성능이 베이스라인 이상의 성능을 보임
 <img width="633" alt="스크린샷 2022-06-07 오후 12 18 51" src="https://user-images.githubusercontent.com/93904398/172288536-9652a392-ec6e-4e9d-bcfa-1d9a6caf5f1f.png">

## 회고
### 1. 한계점
- 제품 간 전환율의 차이가 통계적으로도 유의미한 지 확인 필요
- 구매 횟수 1회 이하 고객 대상 Baseline 모델의 유사도가 산출되지 않아 Cosine 유사도 모델과 평가 지표를 비교할 수 없었음
- CF 추천 모델 학습 시 경사하강법을 통해 오차 함수의 결과를 최소화해야 하지만, 구현 난이도 상 구현하지 못함

### 2. 성장지점
- 처음으로 협업 프로젝트를 하게 되어 걱정이 많이 되었지만 더 다양한 인사이트를 도출하고 부족한 부분을 서로 보완하며 진행할 수 있었음
- 일정에 맞춰 분석을 마무리하고 정해진 리소스 안에서 결과물을 내는 경험을 할 수 있었음

### 추가 학습 방향
- 이커머스 관련 지표에 대해 추가로 학습하여 RFM과 전환율 외의 지표를 통해 데이터를 분석할 수 있도록 함 
- A/B 테스트를 학습하여 제시한 action plan이 얼마나 효과적인지 테스트할 수 있도록 함
